<!-- 🎵 Spotify 曲検索 -->
<div class="p-4 rounded-lg bg-customblue">
  <%= form_with url: spotify_search_path, method: :get, local: false, remote: true, id: "spotify-search-form" do |f| %>
    <div class="text-xl font-bold text-white text-center flex items-center justify-center gap-2">
      <%= image_tag 'spotify.png', alt: 'Spotify Logo', class: 'inline h-6 w-6' %>
      Spotify 曲検索
    </div>
    <p class="text-xl font-bold text-white text-center">2つの条件を組み合わせて検索できます</p>

    <!-- 🔍 検索条件リスト -->
    <div id="search-conditions">
      <div class="search-condition mt-4" data-condition-id="initial">
        <div class="mb-4">
          <%= f.label :initial_search_type, "🔍 検索タイプ", class: "block text-sm font-medium text-white mb-2" %>
          <%= f.select :initial_search_type, 
                [["曲名", "track"], ["アーティスト名", "artist"], ["キーワード", "keyword"],["年代", "year"]],
                { prompt: "検索タイプを選択" },
                { id: "initial-search-type",
                  class: "condition-select block w-full px-4 py-2 border border-gray-400 rounded-md text-white bg-gray-700 focus:ring-blue-500 focus:border-blue-500" } %>
        </div>
        <div class="mb-6" id="initial-query-container" data-turbo="false">
          <%= f.label :initial_query, "📝 検索キーワード", class: "block text-sm font-medium text-white mb-2" %>
          <%= f.text_field :initial_query, placeholder: "キーワードを入力", id: "initial-query", class: "condition-input block w-full px-4 py-2 border border-gray-400 rounded-md text-white bg-gray-700 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500" %>
          <ul id="autoComplete_list"></ul>
        </div>
      </div>
    </div>

    <!-- ➕ 検索条件の追加・削除ボタン (全検索条件の下に配置) -->
    <div class="flex gap-4 mt-4 mb-6">
      <button type="button" id="add-condition-btn" 
        class="flex-1 px-4 py-2 bg-green-500 text-white font-medium rounded hover:bg-green-600 text-center">
        ➕ 検索条件を追加
      </button>
      <button type="button" id="remove-condition-btn" 
        class="flex-1 px-4 py-2 bg-red-500 text-white font-medium rounded hover:bg-red-600 text-center">
        ➖ 検索条件を削除
      </button>
    </div>

    <!-- 🔎 検索ボタン -->
    <div class="text-center mb-4">
      <%= f.submit "🔎 検索", class: "w-full px-4 py-2 bg-blue-500 text-white font-medium rounded hover:bg-blue-600 text-center" %>
    </div>
  <% end %>
</div>
