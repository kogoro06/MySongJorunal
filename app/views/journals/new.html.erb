<div class="min-h-screen bg-customred text-white flex items-center justify-center py-10">
  <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-2xl space-y-6">

    <!-- 🗓️ 日付表示 -->
    <div class="text-center mb-4">
      <span class="text-xl font-semibold text-gray-700"><%= Time.now.strftime('%Y年%m月%d日') %></span>
    </div>

    <!-- 📝 タイトル入力 -->
    <%= form_with(model: @journal, local: false, id: "journal-form", class: "space-y-6") do |form| %>
      <div>
        <%= form.label :title, "日記タイトル", class: "block text-xl text-gray-700 mb-2" %>
        <%= form.text_field :title, required: true, placeholder: "タイトルを入力", class: "input input-bordered w-full px-4 py-2" %>
      </div>

        <!-- 🎵 曲情報（選択後のみ表示） -->
      <% if @journal.song_name.present? || @journal.artist_name.present? || @journal.album_image.present? %>
        <%= render partial: 'journals/selected_song_info', locals: { journal: @journal } %>
      <% end %>

      <!-- 😊 感情入力 -->
      <div>
        <%= form.label :emotion, "感情", class: "block text-md font-medium text-gray-700 mb-2" %>
        <%= form.select :emotion, options_for_select([["喜", 0], ["怒", 1], ["哀", 2], ["楽", 3]], @journal.emotion), { prompt: "選択してください" }, class: "select select-bordered w-full px-4 py-2" %>
      </div>

      <!-- 📝 メモ入力 -->
      <div>
        <%= form.label :content, "本文", class: "block text-md font-medium text-gray-700 mb-2" %>
        <%= form.text_area :content, required: true, placeholder: "今日の出来事や気持ちを記入", class: "textarea textarea-bordered w-full px-4 py-2" %>
      </div>

      <!-- 💾 保存ボタン -->
      <div class="text-center mt-6">
        <%= form.submit "日記を保存", class: "btn btn-primary w-full py-2 text-lg" %>
      </div>
    <% end %>

    <!-- 🎵 Spotify 検索フォーム -->
    <div class="mt-8">
      <%= render partial: 'spotify/search' %>
    </div>
  </div>
</div>
