<div class="min-h-screen bg-customred text-white flex items-center justify-center py-10">
  <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-2xl space-y-6">
    <!-- 日付表示 -->
    <div class="text-center mb-4">
      <span class="text-xl font-semibold text-gray-700">
        <%= @journal.created_at.strftime('%Y年%m月%d日') %>
      </span>
    </div>

    <!-- タイトル表示 -->
    <div>
      <h2 class="text-md font-medium text-gray-700 mb-2 text-center">日記タイトル</h2>
      <p class="text-lg font-semibold text-gray-900 text-center"><%= @journal.title %></p>
    </div>

   <!-- 曲情報（選択後のみ表示） -->
      <% if @journal.song_name.present? || @journal.artist_name.present? || @journal.album_image.present? %>
        <div class="bg-gray-100 p-4 text-center mt-6 rounded-lg shadow-inner">
          <h2 class="text-xl font-bold text-gray-800 mb-4">選択した曲情報</h2>

          <% if @journal.artist_name.present? %>
            <div class="mb-2">
              <span id="selected-artist-name" class="block text-lg font-medium text-gray-800">
                アーティスト: <%= @journal.artist_name %>
              </span>
            </div>
          <% end %>
          
          <% if @journal.song_name.present? %>
            <div class="mb-2">
              <span id="selected-song-name" class="block text-lg font-medium text-gray-800">
                曲名: <%= @journal.song_name %>
              </span>
            </div>
          <% end %>

          <% if @journal.album_image.present? %>
            <div class="mb-4 text-center">
              <a href="https://open.spotify.com/track/<%= @journal.spotify_track_id %>" target="_blank">
                <img id="selected-album-image" src="<%= @journal.album_image %>" 
                     alt="アルバム画像" 
                     class="w-64 h-64 object-cover mx-auto rounded-lg shadow-md">
              </a>
            </div>
          <% end %>

          <% if @journal.preview_url.present? %>
            <div>
              <audio id="selected-audio" controls class="w-full rounded-lg">
                <source src="<%= @journal.preview_url %>" type="audio/mpeg">
                お使いのブラウザは音声プレビューをサポートしていません。
              </audio>
            </div>
          <% end %>

          <!-- Spotifyロゴとリンク -->
          <div class="flex items-center justify-center mt-4 gap-2">
            <a href="https://open.spotify.com/track/<%= @journal.spotify_track_id %>" target="_blank" class="flex items-center gap-2">
              <%= image_tag 'spotify_logo.png', alt: 'Spotifyロゴ', class: 'h-6 w-auto' %>
              <span class="text-sm text-blue-500 underline">Spotifyで聴く</span>
            </a>
            <span class="text-xs text-gray-600 ml-2">Spotify提供</span>
          </div>
        </div>
      <% end %>

    <!-- メモ表示 -->
    <div>
      <h2 class="text-md font-medium text-gray-700 mb-2 text-center">一言メモ</h2>
      <p class="text-md text-gray-800 text-center font-bold p-4 rounded-md ">
        <%= @journal.content %>
      </p>
    </div>

    <!-- 感情表示 -->
    <div>
      <h2 class="text-md font-medium text-gray-700 mb-2 text-center">感情</h2>
      <p class="text-md text-gray-800 text-center font-bold p-4 rounded-md ">
        <%= @journal.emotion %>
      </p>
    </div>

    <!-- アクションボタン -->
    <div class="flex justify-between mt-6">
      <%= link_to "編集", edit_journal_path(@journal), class: "btn btn-secondary " %>
      <%= button_to "削除", journal_path(@journal), method: :delete, data: { confirm: "本当に削除しますか？" }, class: "btn btn-danger text-sm" %>
    </div>

    <!-- 戻るボタン -->
    <div class="text-center mt-4">
      <%= link_to "← 日記一覧に戻る", journals_path, class: "text-blue-500 hover:underline text-sm" %>
    </div>
  </div>
</div>
